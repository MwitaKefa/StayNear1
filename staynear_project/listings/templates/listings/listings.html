<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Listings Page</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Custom styles */
        .listing-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
        .filter-section {
            transition: all 0.3s ease;
        }
        .active-filter {
            background-color: #3b82f6;
            color: white;
        }
        .heart-icon {
            transition: all 0.2s ease;
        }
        .heart-icon:hover {
            transform: scale(1.2);
        }
        .heart-icon.active {
            color: #ef4444;
        }
    </style>
</head>
<body class="bg-gray-50">
    {% load static %}
    <!-- Header/Navigation -->
    <header class="bg-white shadow-sm sticky top-0 z-50 mb-8">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fas fa-home text-blue-600 text-2xl"></i>
                <h1 class="text-xl font-bold text-blue-600">StayNear Homes</h1>
            </div>
            <div class="hidden md:flex space-x-6">
                <a href="{% url 'home' %}" class="text-gray-700 hover:text-blue-600 font-medium">Home</a>
                <a href="{% url 'listings' %}" class="text-gray-700 hover:text-blue-600 font-medium">Listings</a>
                <a href="{% url 'landlords' %}" class="text-gray-700 hover:text-blue-600 font-medium">For Landlords</a>
                <a href="#" class="text-gray-700 hover:text-blue-600 font-medium">About</a>
                <a href="#" class="text-gray-700 hover:text-blue-600 font-medium">Contact</a>
            </div>
            <div class="flex items-center space-x-4">
                <button class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700">Sign In</button>
                <button class="md:hidden text-gray-700">
                    <i class="fas fa-bars text-xl"></i>
                </button>
            </div>
        </div>
    </header>

        <!-- Search and Filter Section -->
        <div class="mb-8 px-4">
            <div class="flex flex-col md:flex-row gap-4 mb-6">
                <!-- Search Bar -->
                <div class="relative flex-grow">
                    <input type="text" placeholder="Search by location, property type, etc..." 
                           class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    <button class="absolute right-3 top-3 text-gray-400 hover:text-gray-600">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                
                <!-- Filter Button -->
                <button id="filterToggle" class="px-4 py-3 bg-white border border-gray-300 rounded-lg flex items-center justify-center gap-2 hover:bg-gray-50">
                    <i class="fas fa-sliders-h"></i>
                    <span>Filters</span>
                </button>
            </div>

            <!-- Filter Options (Hidden by default on mobile) -->
            <div id="filterSection" class="filter-section hidden md:block bg-white p-4 rounded-lg shadow-sm mb-6">
                <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
                    <button class="filter-btn px-3 py-2 border rounded-full hover:bg-gray-100" data-filter="all">All</button>
                    <button class="filter-btn px-3 py-2 border rounded-full hover:bg-gray-100" data-filter="apartment">
                        <i class="fas fa-building mr-2"></i>Apartments
                    </button>
                    <button class="filter-btn px-3 py-2 border rounded-full hover:bg-gray-100" data-filter="house">
                        <i class="fas fa-home mr-2"></i>Houses
                    </button>
                    <button class="filter-btn px-3 py-2 border rounded-full hover:bg-gray-100" data-filter="villa">
                        <i class="fas fa-umbrella-beach mr-2"></i>Villas
                    </button>
                    <button class="filter-btn px-3 py-2 border rounded-full hover:bg-gray-100" data-filter="condo">
                        <i class="fas fa-city mr-2"></i>Condos
                    </button>
                    <button class="filter-btn px-3 py-2 border rounded-full hover:bg-gray-100" data-filter="studio">
                        <i class="fas fa-couch mr-2"></i>Studios
                    </button>
                </div>

                <!-- Price Range -->
                <div class="mt-6">
                    <h3 class="font-medium text-gray-700 mb-3">Price Range</h3>
                    <div class="flex items-center gap-4">
                        <div class="flex-1">
                            <label class="block text-sm text-gray-500 mb-1">Min</label>
                            <select class="w-full px-3 py-2 border rounded-lg">
                                <option>$0</option>
                                <option>$500</option>
                                <option>$1,000</option>
                                <option>$1,500</option>
                                <option>$2,000+</option>
                            </select>
                        </div>
                        <div class="flex-1">
                            <label class="block text-sm text-gray-500 mb-1">Max</label>
                            <select class="w-full px-3 py-2 border rounded-lg">
                                <option>$1,000</option>
                                <option>$2,000</option>
                                <option>$3,000</option>
                                <option>$4,000</option>
                                <option>$5,000+</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Bedrooms -->
                <div class="mt-6">
                    <h3 class="font-medium text-gray-700 mb-3">Bedrooms</h3>
                    <div class="flex flex-wrap gap-2">
                        <button class="px-4 py-2 border rounded-full hover:bg-gray-100">Any</button>
                        <button class="px-4 py-2 border rounded-full hover:bg-gray-100">1</button>
                        <button class="px-4 py-2 border rounded-full hover:bg-gray-100">2</button>
                        <button class="px-4 py-2 border rounded-full hover:bg-gray-100">3</button>
                        <button class="px-4 py-2 border rounded-full hover:bg-gray-100">4+</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Listings Grid -->
        <div class="mb-8 px-4 flex justify-between items-center">
            <h2 class="text-xl font-semibold text-gray-800">Featured Listings</h2>
            <div class="flex items-center gap-2">
                <span class="text-sm text-gray-600">Sort by:</span>
                <select class="text-sm border-0 bg-transparent focus:ring-0">
                    <option>Most Popular</option>
                    <option>Price: Low to High</option>
                    <option>Price: High to Low</option>
                    <option>Newest First</option>
                </select>
            </div>
        </div>

        <!-- Interactive Map View -->
        <div class="mb-10 px-4">
            <h3 class="text-lg font-semibold text-gray-800 mb-2">Map View</h3>
            <div id="map" class="w-full h-80 rounded-lg shadow-md"></div>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 px-4">
            <!-- Listing Card 1 -->
            <div class="listing-card bg-white rounded-xl overflow-hidden shadow-md transition-all duration-300">
                <div class="relative">
                    <img src="https://images.unsplash.com/photo-1564013799919-ab600027ffc6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" 
                         alt="Modern House" class="w-full h-48 object-cover">
                    <div class="absolute top-3 right-3">
                        <button class="heart-icon bg-white p-2 rounded-full shadow-md text-gray-400">
                            <i class="far fa-heart"></i>
                        </button>
                    </div>
                    <div class="absolute bottom-3 left-3 bg-blue-500 text-white px-2 py-1 rounded text-xs font-medium">
                        Featured
                    </div>
                </div>
                <div class="p-4">
                    <div class="flex justify-between items-start">
                        <div>
                            <h3 class="font-bold text-lg text-gray-800">Modern Family House</h3>
                            <p class="text-gray-600 text-sm flex items-center gap-1">
                                <i class="fas fa-map-marker-alt text-xs"></i>
                                Beverly Hills, CA
                            </p>
                        </div>
                        <div class="flex items-center gap-1">
                            <i class="fas fa-star text-yellow-400"></i>
                            <span class="font-medium">4.8</span>
                        </div>
                    </div>
                    
                    <div class="mt-4 flex items-center justify-between">
                        <div class="flex items-center gap-2 text-sm text-gray-600">
                            <span class="flex items-center gap-1">
                                <i class="fas fa-bed"></i> 3
                            </span>
                            <span class="flex items-center gap-1">
                                <i class="fas fa-bath"></i> 2
                            </span>
                            <span class="flex items-center gap-1">
                                <i class="fas fa-ruler-combined"></i> 1,850 sqft
                            </span>
                        </div>
                        <div>
                            <p class="font-bold text-blue-600">$2,500<span class="text-gray-500 text-sm font-normal">/mo</span></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Listing Card 2 -->
            <div class="listing-card bg-white rounded-xl overflow-hidden shadow-md transition-all duration-300">
                <div class="relative">
                    <img src="https://images.unsplash.com/photo-1580587771525-78b9dba3b914?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" 
                         alt="Luxury Apartment" class="w-full h-48 object-cover">
                    <div class="absolute top-3 right-3">
                        <button class="heart-icon bg-white p-2 rounded-full shadow-md text-gray-400">
                            <i class="far fa-heart"></i>
                        </button>
                    </div>
                </div>
                <div class="p-4">
                    <div class="flex justify-between items-start">
                        <div>
                            <h3 class="font-bold text-lg text-gray-800">Luxury Downtown Apartment</h3>
                            <p class="text-gray-600 text-sm flex items-center gap-1">
                                <i class="fas fa-map-marker-alt text-xs"></i>
                                New York, NY
                            </p>
                        </div>
                        <div class="flex items-center gap-1">
                            <i class="fas fa-star text-yellow-400"></i>
                            <span class="font-medium">4.9</span>
                        </div>
                    </div>
                    
                    <div class="mt-4 flex items-center justify-between">
                        <div class="flex items-center gap-2 text-sm text-gray-600">
                            <span class="flex items-center gap-1">
                                <i class="fas fa-bed"></i> 2
                            </span>
                            <span class="flex items-center gap-1">
                                <i class="fas fa-bath"></i> 2
                            </span>
                            <span class="flex items-center gap-1">
                                <i class="fas fa-ruler-combined"></i> 1,200 sqft
                            </span>
                        </div>
                        <div>
                            <p class="font-bold text-blue-600">$3,200<span class="text-gray-500 text-sm font-normal">/mo</span></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Listing Card 3 -->
            <div class="listing-card bg-white rounded-xl overflow-hidden shadow-md transition-all duration-300">
                <div class="relative">
                    <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" 
                         alt="Cozy Cottage" class="w-full h-48 object-cover">
                    <div class="absolute top-3 right-3">
                        <button class="heart-icon bg-white p-2 rounded-full shadow-md text-gray-400">
                            <i class="far fa-heart"></i>
                        </button>
                    </div>
                    <div class="absolute bottom-3 left-3 bg-green-500 text-white px-2 py-1 rounded text-xs font-medium">
                        New
                    </div>
                </div>
                <div class="p-4">
                    <div class="flex justify-between items-start">
                        <div>
                            <h3 class="font-bold text-lg text-gray-800">Cozy Countryside Cottage</h3>
                            <p class="text-gray-600 text-sm flex items-center gap-1">
                                <i class="fas fa-map-marker-alt text-xs"></i>
                                Portland, OR
                            </p>
                        </div>
                        <div class="flex items-center gap-1">
                            <i class="fas fa-star text-yellow-400"></i>
                            <span class="font-medium">4.7</span>
                        </div>
                    </div>
                    
                    <div class="mt-4 flex items-center justify-between">
                        <div class="flex items-center gap-2 text-sm text-gray-600">
                            <span class="flex items-center gap-1">
                                <i class="fas fa-bed"></i> 1
                            </span>
                            <span class="flex items-center gap-1">
                                <i class="fas fa-bath"></i> 1
                            </span>
                            <span class="flex items-center gap-1">
                                <i class="fas fa-ruler-combined"></i> 850 sqft
                            </span>
                        </div>
                        <div>
                            <p class="font-bold text-blue-600">$1,450<span class="text-gray-500 text-sm font-normal">/mo</span></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Listing Card 4 -->
            <div class="listing-card bg-white rounded-xl overflow-hidden shadow-md transition-all duration-300">
                <div class="relative">
                    <img src="https://images.unsplash.com/photo-1605276374104-dee2a0ed3cd6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" 
                         alt="Beachfront Villa" class="w-full h-48 object-cover">
                    <div class="absolute top-3 right-3">
                        <button class="heart-icon bg-white p-2 rounded-full shadow-md text-gray-400">
                            <i class="far fa-heart"></i>
                        </button>
                    </div>
                </div>
                <div class="p-4">
                    <div class="flex justify-between items-start">
                        <div>
                            <h3 class="font-bold text-lg text-gray-800">Beachfront Villa</h3>
                            <p class="text-gray-600 text-sm flex items-center gap-1">
                                <i class="fas fa-map-marker-alt text-xs"></i>
                                Miami, FL
                            </p>
                        </div>
                        <div class="flex items-center gap-1">
                            <i class="fas fa-star text-yellow-400"></i>
                            <span class="font-medium">4.9</span>
                        </div>
                    </div>
                    
                    <div class="mt-4 flex items-center justify-between">
                        <div class="flex items-center gap-2 text-sm text-gray-600">
                            <span class="flex items-center gap-1">
                                <i class="fas fa-bed"></i> 4
                            </span>
                            <span class="flex items-center gap-1">
                                <i class="fas fa-bath"></i> 3
                            </span>
                            <span class="flex items-center gap-1">
                                <i class="fas fa-ruler-combined"></i> 2,500 sqft
                            </span>
                        </div>
                        <div>
                            <p class="font-bold text-blue-600">$4,800<span class="text-gray-500 text-sm font-normal">/mo</span></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    <!-- Pagination -->
    <div class="flex justify-center mt-10 px-4">
            <nav class="flex items-center gap-1">
                <button class="px-3 py-1 rounded-md border hover:bg-gray-100">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="px-3 py-1 rounded-md border bg-blue-500 text-white">1</button>
                <button class="px-3 py-1 rounded-md border hover:bg-gray-100">2</button>
                <button class="px-3 py-1 rounded-md border hover:bg-gray-100">3</button>
                <span class="px-2">...</span>
                <button class="px-3 py-1 rounded-md border hover:bg-gray-100">8</button>
                <button class="px-3 py-1 rounded-md border hover:bg-gray-100">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </nav>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12 mt-12">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center space-x-2 mb-4">
                        <i class="fas fa-home text-blue-400 text-2xl"></i>
                        <h3 class="text-xl font-bold">StayNear Homes</h3>
                    </div>
                    <p class="text-gray-400 mb-4">AI-powered rental discovery platform transforming Kenya's real estate market.</p>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div>
                    <h4 class="text-lg font-bold mb-4">For Tenants</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">Browse Listings</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">How It Works</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Tenant Reviews</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Rental Tips</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-bold mb-4">For Landlords</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-white">List Your Property</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Pricing</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Verification Process</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-white">Landlord Resources</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-lg font-bold mb-4">Contact Us</h4>
                    <ul class="space-y-2">
                        <li class="flex items-center text-gray-400">
                            <i class="fas fa-map-marker-alt mr-2 text-blue-400"></i>
                            Nairobi, Kenya
                        </li>
                        <li class="flex items-center text-gray-400">
                            <i class="fas fa-phone-alt mr-2 text-blue-400"></i>
                            <span>+254 700 123456</span>
                        </li>
                        <li class="flex items-center text-gray-400">
                            <i class="fas fa-envelope mr-2 text-blue-400"></i>
                            <span>info@staynear.co.ke</span>
                        </li>
                    </ul>
                    <h4 class="text-lg font-bold mt-6 mb-2">Download Our App</h4>
                    <div class="flex space-x-2">
                        <button class="bg-black text-white px-3 py-2 rounded flex items-center">
                            <i class="fab fa-apple mr-2"></i>
                            <div class="text-left">
                                <div class="text-xs">Download on the</div>
                                <div class="font-bold text-sm">App Store</div>
                            </div>
                        </button>
                        <button class="bg-black text-white px-3 py-2 rounded flex items-center">
                            <i class="fab fa-google-play mr-2"></i>
                            <div class="text-left">
                                <div class="text-xs">Get it on</div>
                                <div class="font-bold text-sm">Google Play</div>
                            </div>
                        </button>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center">
                <p class="text-gray-400">© 2023 StayNear Homes. All rights reserved.</p>
                <div class="flex space-x-6 mt-4 md:mt-0">
                    <a href="#" class="text-gray-400 hover:text-white">Privacy Policy</a>
                    <a href="#" class="text-gray-400 hover:text-white">Terms of Service</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Leaflet.js for interactive map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // Initialize Leaflet map
        document.addEventListener('DOMContentLoaded', function() {
            var map = L.map('map').setView([-1.286389, 36.817223], 12); // Nairobi default
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
            }).addTo(map);

            // Example property markers
            var listings = [
                { name: 'Modern Family House', lat: -1.3081, lng: 36.8065 },
                { name: 'Luxury Downtown Apartment', lat: -1.2921, lng: 36.8219 },
                { name: 'Cozy Countryside Cottage', lat: -1.3346, lng: 36.7924 },
                { name: 'Beachfront Villa', lat: -1.2654, lng: 36.8000 }
            ];
            listings.forEach(function(listing) {
                L.marker([listing.lat, listing.lng]).addTo(map)
                    .bindPopup('<b>' + listing.name + '</b>');
            });
        });
        // Toggle filter section on mobile
        document.getElementById('filterToggle').addEventListener('click', function() {
            const filterSection = document.getElementById('filterSection');
            filterSection.classList.toggle('hidden');
        });

        // Filter buttons functionality
        const filterButtons = document.querySelectorAll('.filter-btn');
        filterButtons.forEach(button => {
            button.addEventListener('click', function() {
                // Remove active class from all buttons
                filterButtons.forEach(btn => btn.classList.remove('active-filter'));
                // Add active class to clicked button
                this.classList.add('active-filter');
                // Here you would normally filter the listings
                // For this demo, we'll just log the filter type
                console.log('Filter by:', this.dataset.filter);
            });
        });

        // Favorite button functionality
        const heartIcons = document.querySelectorAll('.heart-icon');
        heartIcons.forEach(icon => {
            icon.addEventListener('click', function() {
                const iconElement = this.querySelector('i');
                if (iconElement.classList.contains('far')) {
                    iconElement.classList.remove('far');
                    iconElement.classList.add('fas');
                    this.classList.add('active');
                } else {
                    iconElement.classList.remove('fas');
                    iconElement.classList.add('far');
                    this.classList.remove('active');
                }
            });
        });

        // Initialize first filter as active
        document.querySelector('.filter-btn[data-filter="all"]').classList.add('active-filter');
    </script>
</body>
</html>